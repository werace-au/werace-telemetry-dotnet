version: "1.0"

metadata:
  title: "Example Telemetry"
  description: "Example telemetry definition"

types:
  vector3:
    type: struct
    description: "3D vector"
    fields:
      - name: x
        type: float32
        dimensions: 0
        description: "X coordinate"
        unit: "meters"
      - name: y
        type: float32
        dimensions: 0
        description: "Y coordinate"
        unit: "meters"
      - name: z
        type: float32
        dimensions: 0
        description: "Z coordinate"
        unit: "meters"

  wheel_data:
    type: struct
    description: "Wheel sensor data"
    fields:
      - name: temperature
        type: float32
        dimensions: 0
        description: "Tire surface temperature"
        unit: "celsius"
        tags: ["temperature", "critical"]
      - name: pressure
        type: float32
        dimensions: 0
        description: "Tire pressure"
        unit: "kpa"
        tags: ["pressure", "critical"]

  gear_state:
    type: enum
    description: "Transmission gear state"
    values:
      - name: neutral
        value: 0
        description: "Transmission in neutral"
      - name: first
        value: 1
        description: "First gear"
      - name: second
        value: 2
        description: "Second gear"
      - name: third
        value: 3
        description: "Third gear"
      - name: fourth
        value: 4
        description: "Fourth gear"
      - name: fifth
        value: 5
        description: "Fifth gear"
      - name: sixth
        value: 6
        description: "Sixth gear"
      - name: reverse
        value: 7
        description: "Reverse gear"

session:
  header:
    fields:
      - name: type
        type: uint32
        dimensions: 0
        description: "Session type identifier"
        tags: ["metadata"]
      - name: driver_id
        type: uint32
        dimensions: 0
        description: "Driver identifier"
        tags: ["metadata"]
  footer:
    fields:
      - name: best_lap_time
        type: uint32
        dimensions: 0
        description: "Best lap time in session"
        unit: "ms"
        tags: ["lap", "summary"]
      - name: total_laps
        type: uint32
        dimensions: 0
        description: "Total laps completed"
        tags: ["lap", "summary"]
      - name: fuel_used
        type: float32
        dimensions: 0
        description: "Total fuel used in session"
        unit: "liters"
        tags: ["fuel", "summary"]

frame:
  fields:
    - name: position
      type: vector3
      dimensions: 0
      description: "Vehicle position"
      tags: ["position"]
    - name: velocity
      type: vector3
      dimensions: 0
      description: "Vehicle velocity"
      tags: ["velocity"]
    - name: wheels
      type: wheel_data
      dimensions: 4
      description: "Data for all wheels [FL, FR, RL, RR]"
      tags: ["wheels", "critical"]
    - name: current_gear
      type: gear_state
      dimensions: 0
      description: "Current transmission gear"
      tags: ["transmission", "display"]
